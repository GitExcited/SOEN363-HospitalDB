---
title: Hospital Patient Journey â€“  E/R Diagram (Phase 1)
config:
  flowchart:
    layout: LR
    nodeSpacing: 28
    rankSpacing: 24
  layout: elk
---
%%{init: {'theme': 'base', 'themeVariables': { 'background': '#ffffff' }}}%%
flowchart LR
classDef strong stroke:#000,stroke-width:2px
classDef key stroke-width:4px,text-decoration:underline

PAT_ID(["<u>PatientID</u> (lifetime unique)"]):::key --- PAT["PATIENTS"]:::strong
PAT_DOB(["DateOfBirth"]) --- PAT
PAT_DOBShift(["DOBShiftedFlag (privacy)"]) --- PAT
PAT_Sex(["Sex/Gender"]) --- PAT
PAT_Life(["LifeStatus {alive/deceased}"]) --- PAT

HOSP_ID(["<u>HospitalID</u>"]):::key --- HOSP["HOSPITAL"]:::strong
HOSP_Name(["Name"]) --- HOSP
HOSP_City(["City"]) --- HOSP
HOSP_Prov(["Province/State"]) --- HOSP

WARD_ID(["<u>WardID</u>"]):::key --- WARD["WARD"]:::strong
WARD_Name(["WardName"]) --- WARD
WARD_Type(["WardType {ICU/Med/Surg/Cardiac/...}"]) --- WARD
WARD_Floor(["Floor/LocationLabel"]) --- WARD
WARD_Cap(["Capacity (optional)"]) --- WARD
WARD_HFK(["HospitalID (FK)"]) --- WARD

ADM_ID(["<u>AdmissionID</u>"]):::key --- ADM["ADMISSIONS"]:::strong
ADM_PFK(["PatientID (FK)"]) --- ADM
ADM_HFK(["HospitalID (FK)"]) --- ADM
ADM_Admit(["AdmitDateTime"]) --- ADM
ADM_Discharge(["DischargeDateTime"]) --- ADM
ADM_DiedStay(["DiedThisStay (Y/N)"]) --- ADM
ADM_Type(["AdmissionType {emergency/elective/urgent/newborn/...}"]) --- ADM
ADM_Source(["AdmitSource {ED/transfer/self/...}"]) --- ADM
ADM_Ins(["Insurance"]) --- ADM
ADM_Marital(["MaritalStatus"]) --- ADM
ADM_Demog(["OtherDemographics (nullable)"]) --- ADM

ICU_ID(["<u>ICUStayID</u>"]):::key --- ICU["ICUSTAYS"]:::strong
ICU_AFK(["AdmissionID (FK)"]) --- ICU
ICU_WFK(["WardID (FK)"]) --- ICU
ICU_In(["InDateTime"]) --- ICU
ICU_Out(["OutDateTime"]) --- ICU
ICU_Type(["ICUType {medical/surgical/cardiac/...}"]) --- ICU
ICU_Merge(["MergedUnitsFlag (multi-unit episode)"]) --- ICU

PROV_ID(["<u>ProviderID</u>"]):::key --- PROV["CARE_PROVIDER"]:::strong
PROV_Name(["ProviderName"]) --- PROV
PROV_Role(["Role {physician/nurse/therapist/coder/...}"]) --- PROV
PROV_Dept(["Department (optional)"]) --- PROV

NOTE_ID(["<u>NoteID</u>"]):::key --- NOTE["NOTEEVENTS"]:::strong
NOTE_PFK(["PatientID (FK)"]) --- NOTE
NOTE_AFK(["AdmissionID (FK)"]) --- NOTE
NOTE_IFK(["ICUStayID (FK, nullable)"]) --- NOTE
NOTE_ProvFK(["AuthorID (FK -> CARE_PROVIDER)"]) --- NOTE
NOTE_Type(["NoteType {discharge/radiology/ECG/Echo/progress/...}"]) --- NOTE
NOTE_Time(["NoteDateTime"]) --- NOTE
NOTE_IsErr(["HasFlaggedError (Y/N)"]) --- NOTE
NOTE_Short(["First200Chars (optional)"]) --- NOTE

ICDD_Code(["<u>ICDCode</u>"]):::key --- ICDD["D_ICD_DIAGNOSES"]:::strong
ICDD_Version(["<u>ICDVersion</u>"]):::key --- ICDD
ICDD_Title(["Title"]) --- ICDD
ICDD_Desc(["LongDescription"]) --- ICDD
ICDD_Active(["IsActive"]) --- ICDD

DIAG_ID(["<u>DiagnosisID</u>"]):::key --- DIAG["DIAGNOSES_ICD"]:::strong
DIAG_PFK(["PatientID (FK)"]) --- DIAG
DIAG_AFK(["AdmissionID (FK)"]) --- DIAG
DIAG_Code(["ICDCode (FK -> D_ICD_DIAGNOSES)"]) --- DIAG
DIAG_Vers(["ICDVersion (FK -> D_ICD_DIAGNOSES)"]) --- DIAG
DIAG_Priority(["Priority {principal/secondary/...}"]) --- DIAG
DIAG_Assigner(["AssignerID (FK -> CARE_PROVIDER, optional)"]) --- DIAG
DIAG_Time(["AssignedDateTime"]) --- DIAG

R_HAS_ADMISSION{HAS_ADMISSION}
PAT -- "1" --- R_HAS_ADMISSION
R_HAS_ADMISSION -- "0..N" --- ADM

R_CONTAINS_WARD{CONTAINS_WARD}
HOSP -- "1" --- R_CONTAINS_WARD
R_CONTAINS_WARD -- "1..N" --- WARD

R_OCCURS_AT{OCCURS_AT}
HOSP -- "1" --- R_OCCURS_AT
R_OCCURS_AT -- "0..N" --- ADM

R_INCLUDES_ICU_STAY{INCLUDES_ICU_STAY}
ADM -- "1" --- R_INCLUDES_ICU_STAY
R_INCLUDES_ICU_STAY -- "0..N" --- ICU

R_HOSTS_ICU_EPISODE{HOSTS_ICU_EPISODE}
WARD -- "1" --- R_HOSTS_ICU_EPISODE
R_HOSTS_ICU_EPISODE -- "0..N" --- ICU

R_HAS_NOTE{HAS_NOTE}
ADM -- "1" --- R_HAS_NOTE
R_HAS_NOTE -- "0..N" --- NOTE

R_DOCUMENTS_ICU_EPISODE{DOCUMENTS_ICU_EPISODE}
ICU -- "1" --- R_DOCUMENTS_ICU_EPISODE
R_DOCUMENTS_ICU_EPISODE -- "0..N" --- NOTE

R_SUBJECT_OF_NOTE{SUBJECT_OF_NOTE}
PAT -- "1" --- R_SUBJECT_OF_NOTE
R_SUBJECT_OF_NOTE -- "0..N" --- NOTE

R_AUTHORS_NOTE{AUTHORS_NOTE}
PROV -- "1" --- R_AUTHORS_NOTE
R_AUTHORS_NOTE -- "0..N" --- NOTE

R_HAS_DIAGNOSIS{HAS_DIAGNOSIS}
ADM -- "1" --- R_HAS_DIAGNOSIS
R_HAS_DIAGNOSIS -- "0..N" --- DIAG

R_RECEIVES_DIAGNOSIS{RECEIVES_DIAGNOSIS}
PAT -- "1" --- R_RECEIVES_DIAGNOSIS
R_RECEIVES_DIAGNOSIS -- "0..N" --- DIAG

R_DEFINES_CODE{DEFINES_CODE}
ICDD -- "1" --- R_DEFINES_CODE
R_DEFINES_CODE -- "0..N" --- DIAG

R_ASSIGNS_DIAGNOSIS{ASSIGNS_DIAGNOSIS}
PROV -- "1" --- R_ASSIGNS_DIAGNOSIS
R_ASSIGNS_DIAGNOSIS -- "0..N" --- DIAG